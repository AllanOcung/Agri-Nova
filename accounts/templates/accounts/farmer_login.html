{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login | AgriNova</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- FontAwesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="{% static 'accounts/css/register.css' %}" />
  </head>
  <body>
    <div class="register-split-container">
      <!-- Left Visual Panel -->
      <div class="register-visual-panel">
        <a href="{% url 'index' %}" class="back-btn">Back to website &rarr;</a>
        <div class="slideshow-container">
          <img
            src="{% static 'core/images/1.jpg' %}"
            class="slide-img active"
            alt="Slide 1"
          />
          <img
            src="{% static 'core/images/2.jpg' %}"
            class="slide-img"
            alt="Slide 2"
          />
          <img
            src="{% static 'core/images/3.jpg' %}"
            class="slide-img"
            alt="Slide 3"
          />
        </div>
        <div class="logo-row">
          <i class="fas fa-seedling logo-icon"></i>
          <span class="logo-text">Agri<span class="logo-link">Nova</span></span>
        </div>
        <div class="slogan">Empowering Smart Farming</div>
        <div class="indicator-dots" id="slide-dots">
          <span class="dot active"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      </div>
      <!-- Right Form Panel -->
      <div class="register-form-panel">
        <div class="form-content">
          <h2>Welcome back!</h2>
          <div class="subtext">
            Don't have an account?
            <a href="{% url 'user_register' %}" class="signin-link">Register</a>
          </div>
          <form id="login-form" method="post" autocomplete="off">
            {% csrf_token %}
            {% if form.non_field_errors %}
              <div class="form-errors">
                {{ form.non_field_errors }}
              </div>
            {% endif %}
            <input
              type="text"
              name="username"
              placeholder="Username or Email"
              required
              value="{{ form.username.value|default_if_none:'' }}"
            />
            <div class="password-row">
              <input
                type="password"
                name="password"
                placeholder="Enter your password"
                id="password-input"
                required
              />
              <span class="toggle-password" onclick="togglePassword()">
                <i class="fa fa-eye" id="eye-icon"></i>
              </span>
            </div>
            <button type="submit" class="create-account-btn">
              Login
            </button>
          </form>
          <div class="separator">
            <span>or sign in with</span>
          </div>
          <div class="alt-signup-row">
            <button class="alt-btn google-btn" type="button">
              <i class="fab fa-google"></i> Google
            </button>
            <button class="alt-btn apple-btn" type="button">
              <i class="fab fa-apple"></i> Apple
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      function togglePassword() {
        const pwd = document.getElementById("password-input");
        const icon = document.getElementById("eye-icon");
        if (pwd.type === "password") {
          pwd.type = "text";
          icon.classList.remove("fa-eye");
          icon.classList.add("fa-eye-slash");
        } else {
          pwd.type = "password";
          icon.classList.remove("fa-eye-slash");
          icon.classList.add("fa-eye");
        }
      }
    </script>
    <script src="{% static 'accounts/js/register-slideshow.js' %}"></script>
  </body>
</html>